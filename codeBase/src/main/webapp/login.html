<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script
  src="https://code.jquery.com/jquery-3.2.1.js"
  integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
  crossorigin="anonymous"></script>
</head>
<body>
<h1 align = "center">欢迎</h1>
 </iframe> 
 
<div id="">
            用户名 :
            <input type="text" name="name" id="name" value="" />
        </div>
        <div id="">
            密 码 :
            <input type="text" name="password" id="password" value="" />
        </div>
          <input type="button" name="" id="denglu" value="登录"  onclick="login()"/>
</body>
<script type="text/javascript">
var curWwwPath=window.document.location.href;  
//获取主机地址之后的目录，如： uimcardprj/share/meun.jsp  
var pathName=window.document.location.pathname;  
var pos=curWwwPath.indexOf(pathName);  
//获取主机地址，如： http://localhost:8083  
var localhostPaht=curWwwPath.substring(0,pos);  
//获取带"/"的项目名，如：/uimcardprj  
var projectName;
if(pathName.substr(1).indexOf('/')<0) { //根目录
	projectName=pathName;
}else{
	projectName=pathName.substring(0,pathName.substr(1).indexOf('/')+1);  
}

function login(){
	$.ajax({
	    type: "post",
	    url: projectName + "/test/login.json",
	    data: {
	    	name: $("#name").val(),
	    	password: $("#password").val()
	    },
	    dataType: "json",
	    success: function(r) {     
	    	if(r.code == 20000){
	    		window.location = projectName + "/index.html";
	    	}else{
				alert(r.msg);
	    	}
	    }
	});
}
</script>
</html>